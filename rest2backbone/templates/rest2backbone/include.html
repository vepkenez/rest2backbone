<script>
var backbone_start_app = {% if backbone_start_app %}"{{backbone_start_app}}"{% else %}null{% endif %};
var django_backbone_models = [{% for model in backbone_models %}
                                '{{model.0}}'{% if not forloop.last %},{%endif%}
                                {% endfor %}];



</script>

{% for model in backbone_models %}
<script type="text/template" id="{{model.0|lower}}_list_title">
    <%= {{model.1.title_attr}} %>
</script>
{% endfor %}

<script>
    !window.jQuery && document.write('\<script src="{{STATIC_URL}}js/jquery-2.0.2.js"><\/script>');
</script>
<script src="{% url 'django.views.i18n.javascript_catalog'  packages='rest2backbone'%}"></script>
<script src="{{STATIC_URL}}js/underscore.js"></script>
<script src="{{STATIC_URL}}js/backbone.js"></script>
<script src="{% url 'rest-api' %}"></script>
<script src="{{STATIC_URL}}js/api-forms.js"></script>
<script src="{{STATIC_URL}}js/app.js"></script>

<script type="text/template" id="general_list">
  <ul class="list"></ul>
  <div id="list_footer">
    <% if (previousPage) { %>
      <a id="previous">&lt;&lt;</a>
    <% } %>
    <% if (nextPage) { %>
      <a id="next" >&gt;&gt;</a>
    <% } %>
  </div>
</script>

<script type="text/template" id="new_list_item">
  <li class="list_item new">
    <div class="list_item_bar">
      <span class="item_title expanded new">&lt;New <%= name %>&gt;</span>
      <div class="item_delete"></div>
    </div>
  </li>
</script>

<script type="text/template" id="template_list_item">
  <li data-pk="<%= id %>" class="list_item">
    <div class="list_item_bar">
      <span class="item_title"><%= title %></span>
      <div class="item_delete"></div>
    </div>
  </li>
</script>

<script type="text/template" id="detail_template">
  <div class="view_only">
    <div id="r2b_edit_btn" class="r2b_top_form_btn">Edit</div>
    <%= form_ro %>
  </div>
  <div class="edit_form" style="display:none">
    <%= form %>
    <div id="r2b_view_btn" class="r2b_top_form_btn">View</div>
    <div id="r2b_save_btn" class="r2b_form_btn">Save</div>
  </div>
</script>

<!-- Templates generated by rest2backbone -->
{% if params %}
  {{params.forms.render_all}}
{% else %}
  {{forms.render_all}}
{% endif %}
